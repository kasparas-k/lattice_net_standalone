<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Configuru: Configuru</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Configuru
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Configuru </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Configuru, an experimental JSON config library for C++, by Emil Ernerfeldt.</p>
<h2>License </h2>
<p>This software is in the public domain. Where that dedication is not recognized, you are granted a perpetual, irrevocable license to copy and modify this file as you see fit.</p>
<p>That being said, I would appreciate credit! If you find this library useful, send a tweet to <a href="https://twitter.com/ernerfeldt"></a> or mail me at <a href="#" onclick="location.href='mai'+'lto:'+'emi'+'l.'+'ern'+'er'+'fel'+'dt'+'@gm'+'ai'+'l.c'+'om'; return false;">emil.<span style="display: none;">.nosp@m.</span>erne<span style="display: none;">.nosp@m.</span>rfeld<span style="display: none;">.nosp@m.</span>t@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a>.</p>
<h2>Documentation </h2>
<p>You can read the documentation here: <a href="https://emilk.github.io/Configuru/html/index.html">https://emilk.github.io/Configuru/html/index.html</a></p>
<h2>Overview </h2>
<p>Configuru is a JSON parser/writer for C++11. Configuru was written for human created/edited config files and therefore prioritizes helpful error messages over parse speed.</p>
<h2>Goals </h2>
<ul>
<li><b>Debugable</b>:<ul>
<li>Find typos most config libs miss (like typos in keys).</li>
<li>Easily find source of typos with file name, line numbers and helpful error messages.</li>
<li>Cleverly help to point out mismatched braces in the right place.</li>
</ul>
</li>
<li><b>Configurable</b>:<ul>
<li>Configure the format to allow relaxed and extended flavors of JSON.</li>
<li>Extensible with custom conversions.</li>
<li>Control how the <code><a class="el" href="classconfiguru_1_1Config.html">configuru::Config</a></code> behaves in your code via compile time constants:<ul>
<li>Override <code>CONFIGURU_ONERROR</code> to add additional debug info (like stack traces) on errors.</li>
<li>Override <code>CONFIGURU_ASSERT</code> to use your own asserts.</li>
<li>Override <code>CONFIGURU_ON_DANGLING</code> to customize how non-referenced/dangling keys are reported.</li>
<li>Set <code>CONFIGURU_IMPLICIT_CONVERSIONS</code> to allow things like <code>float f = some_config;</code></li>
<li>Set <code>CONFIGURU_VALUE_SEMANTICS</code> to have <code>Config</code> behave like a value type rather than a reference type.</li>
</ul>
</li>
</ul>
</li>
<li><b>Easy to use</b>:<ul>
<li>Smooth C++11 integration for reading and creating config values.</li>
</ul>
</li>
<li><b>JSON compliant</b>:<ul>
<li>Configuru has one of the highest conformance ratings on the <a href="https://github.com/miloyip/nativejson-benchmark">Native JSON Benchmark</a></li>
</ul>
</li>
<li><b>Beautiful output</b> (pretty printing)</li>
<li><b>Reversible with comments</b>:<ul>
<li>If comments are turned on in <code>FormatOptions</code> they will be parsed and written together with the right key/value.</li>
</ul>
</li>
</ul>
<h3>Non-goals</h3>
<ul>
<li>Low overhead</li>
</ul>
<h1>Error messages </h1>
<p>Configuru prides itself on great error messages both for parse errors and for value errors (expecting one thing and getting another). All error messages come with file name a line number. When parsing from a string (rather than a file) the user can specify an identifier to be used in lieu of a file name.</p>
<h2>Parse errors </h2>
<pre class="fragment">equal_in_object.json:1:16: Expected : after object key
{ "is_this_ok" = true }
               ^

bad_escape.json:1:9: Unknown escape character 'x'
{"42":"\x42"}
        ^

no_quotes.json:2:22: Expected value
   "forgotten_quotes": here
                       ^

trucated_key.json:1:2: Unterminated string
{"X
 ^

single_line_comment.json:1:4: Single line comments forbidden.
{} // Blah-bla
   ^

unary_plus.json:1:1: Prefixing numbers with + is forbidden.
+42
^
</pre><p>Note how all errors mention follow the standard <code>filename:line:column</code> structure (most errors above happen on line <code>1</code> since they are from small unit tests).</p>
<h2>Value errors </h2>
<p>Similarly, using a parsed Config value in the wrong way produces nice error messages. Take the following file (<code>config.json</code>):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;1: {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;2:     &quot;pi&quot;:    3.14,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;3:     &quot;array&quot;: [ 1, 2, 3, 4 ],</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;4:     &quot;obj&quot;:   {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;5:         &quot;nested_value&quot;: 42</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;6:     }</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;7: }</div></div><!-- fragment --><p>Here's some use errors and their error messages:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;auto b = (bool)config[&quot;pi&quot;];</div></div><!-- fragment --><p><code>config.json:2: Expected bool, got float</code>. Note that the <a href="file:line">file:line</a> points to where the value is defined.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;std::cout &lt;&lt; config[&quot;obj&quot;][&quot;does_not_exist&quot;];</div></div><!-- fragment --><p><code>config.json:4: Failed to find key 'does_not_exist'</code>. Here the file and line of the owner (<code>"obj"</code>) of the missing value is referenced.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;std::cout &lt;&lt; config[&quot;pi&quot;][5];</div></div><!-- fragment --><p><code>config.json:2: Expected array, got float</code>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;std::cout &lt;&lt; config[&quot;array&quot;][5];</div></div><!-- fragment --><p><code>config.json:3: Array index out of range</code></p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cfg[&quot;hello&quot;] = 42;</div></div><!-- fragment --><p><code>Expected object, got uninitialized. Did you forget to call Config::object()?</code>. The first line should read <code>Config cfg = Config::object();</code>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cfg.push_back(&quot;hello&quot;);</div></div><!-- fragment --><p><code>Expected array, got uninitialized. Did you forget to call Config::array()?</code>. The first line should read <code>Config cfg = Config::array();</code>.</p>
<h2>Unused keys </h2>
<p>Configuru has a novel mechanism for detecting subtle typos in object keys. Suppose you have a Config that looks like this: </p><pre class="fragment">{
    "colour": "red",
    ...
}
</pre><p>Here's how it could be used:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;auto cfg = configuru::parse_file(&quot;config.json&quot;, configuru::JSON);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;auto color = cfg.get_or(&quot;color&quot;, DEFAULT_COLOR);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cfg.check_dangling();</div></div><!-- fragment --><p>The call to <code>check_dangling</code> will print a warning: </p><pre class="fragment">config.json:2: Key 'colour' never accessed
</pre><p>This is akin to a compiler warning about unused variables and it's an effective way of finding mistakes that would otherwise go undetected.</p>
<p>The call to <code>check_dangling</code> is recursive, so you only need to call it once for every config file. If you want to mute this warning for some key (which you may intentionally be ignoring, or saving for later) you can call <code>cfg.mark_accessed(true)</code>. This will recursively mark each <code>Config</code> as having been accessed.</p>
<h1>Usage </h1>
<p>For using: <code>#include &lt;<a class="el" href="configuru_8hpp_source.html">configuru.hpp</a>&gt;</code></p>
<p>And in one .cpp file:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;#define CONFIGURU_IMPLEMENTATION 1</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &lt;configuru.hpp&gt;</div></div><!-- fragment --><h2>Usage (parsing) </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg = configuru::parse_file(&quot;input.json&quot;, JSON);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;float alpha = (float)cfg[&quot;alpha&quot;];</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if (cfg.has_key(&quot;beta&quot;)) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    std::string beta = (std::string)cfg[&quot;beta&quot;];</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;float pi = cfg.get_or(pi, 3.14f);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;if (cfg[&quot;array&quot;].is_array()) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    std::cout &lt;&lt; &quot;First element: &quot; &lt;&lt; cfg[&quot;array&quot;][0];</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    for (const Config&amp; element : cfg[&quot;array&quot;].as_array()) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        std::cout &lt;&lt; element &lt;&lt; std::endl;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;for (auto&amp; p : cfg[&quot;object&quot;].as_object()) {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    std::cout &lt;&lt; &quot;Key: &quot; &lt;&lt; p.key() &lt;&lt; std::endl;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; p.value() &lt;&lt; std::endl;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    p.value() = &quot;new value&quot;;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;cfg.check_dangling(); // Make sure we haven&#39;t forgot reading a key!</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;// You can modify the read config:</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;cfg[&quot;message&quot;] = &quot;goodbye&quot;;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;dump_file(&quot;output.json&quot;, cfg, JSON);</div></div><!-- fragment --><h2>Usage (writing) </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg = Config::object();</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cfg[&quot;pi&quot;]     = 3.14;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cfg[&quot;array&quot;]  = Config::array{ 1, 2, 3 };</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cfg[&quot;object&quot;] = Config::object({</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    { &quot;key1&quot;, &quot;value1&quot; },</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    { &quot;key2&quot;, &quot;value2&quot; },</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;});</div></div><!-- fragment --><p>Alternative form:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    {&quot;pi&quot;,     3.14},</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    {&quot;array&quot;,  Config::array{ 1, 2, 3 }},</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    {&quot;object&quot;, {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        { &quot;key1&quot;, &quot;value1&quot; },</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        { &quot;key2&quot;, &quot;value2&quot; },</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    }},</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;};</div></div><!-- fragment --><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;std::string json = dump_string(cfg, JSON);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;dump_file(&quot;output.json&quot;, cfg, JSON);</div></div><!-- fragment --><h2>Reference semantics vs value semantics </h2>
<p>By default, Config objects acts like reference types, e.g. like a <code>std::shared_ptr</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg{{&quot;message&quot;, &quot;original&quot;}};</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;auto shallow_copy = cfg;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cfg[&quot;message&quot;] = &quot;changed!&quot;;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;std::cout &lt;&lt; shallow_copy[&quot;message&quot;]; // Will print &quot;changed!&quot;;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;auto deep_clone = cfg.deep_clone(); // Deep clones have to be explicit.</div></div><!-- fragment --><p>You can control this behavior with <code>#define CONFIGURU_VALUE_SEMANTICS 1</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;#define CONFIGURU_VALUE_SEMANTICS 1</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &lt;configuru.hpp&gt;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Config cfg{{&quot;message&quot;, &quot;original&quot;}};</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;auto deep_clone = cfg;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;cfg[&quot;message&quot;] = &quot;changed!&quot;;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;std::cout &lt;&lt; deep_clone[&quot;message&quot;]; // Will print &quot;original&quot;;</div></div><!-- fragment --><h2>Errors </h2>
<p>The default behavior of Configuru is to throw an <code>std::runtime_error</code> on any error. You can change this behavior by overriding <code>CONFIGURU_ONERROR</code>.</p>
<h1>CFG format </h1>
<p>In addition to JSON, Configuru also has native support for a format I simply call <em>CFG</em>. CFG is a superset of JSON with some simplifications and extensions. Example file: </p><pre class="fragment">values: [1 2 3 4 5 6]
object: {
    nested_key: +inf
}
python_style: """This is a string
                 which spans many lines."""
"C# style": @"Also nice for \ and stuff"
</pre><ul>
<li>Top-level can be key-value pairs (no need for {} surrounding entire document).</li>
<li>Keys need not be quoted if identifiers.</li>
<li>Commas optional for arrays and objects.</li>
<li>Trailing , allowed in arrays and objects.</li>
</ul>
<p><code>"""</code> starts a verbatim multi-line string</p>
<p><code>@"&lt;/tt&gt; starts a C# style verbatim string which ends on next quote (except &lt;tt&gt;""</code> which is a single-quote).</p>
<p>Numbers can be represented in any common form: <code>-42</code>, <code>1e-32</code>, <code>0xCAFE</code>, <code>0b1010</code></p>
<p><code>+inf</code>, <code>-inf</code>, <code>+NaN</code> are valid numbers.</p>
<p>Indentation is enforced, and must be done with tabs. Tabs anywhere else is not allowed.</p>
<p>You can also allow selective parts of the above extensions to create your own dialect of JSON. Look at the members of <code><a class="el" href="structconfiguru_1_1FormatOptions.html" title="This struct basically contain all the way we can tweak the file format. ">configuru::FormatOptions</a></code> for details.</p>
<h1>Beautiful output </h1>
<p>One of the great things about JSON is that it is human readable (as opposed to XML). Configuru goes to great lengths to make the output as beautiful as possible. Here's an example structure (as defined in C++):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Config cfg = Config::object{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    {&quot;float&quot;,       3.14f},</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    {&quot;double&quot;,      3.14},</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    {&quot;short_array&quot;, Config::array({1, 2, 3})},</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    {&quot;long_array&quot;,  Config::array({</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        &quot;one&quot;,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        Config::array({&quot;two&quot;, &quot;things&quot;}),</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        &quot;three&quot;,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    })},</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;};</div></div><!-- fragment --><p>Here's how the output turns out in most JSON encoders (this one produced by the excellent <a href="https://github.com/nlohmann/json">nlohmann json library</a>):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &quot;double&quot;: 3.14,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;float&quot;: 3.14000010490417,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &quot;long_array&quot;: [</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        &quot;one&quot;,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        [</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            &quot;two&quot;,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            &quot;things&quot;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        ],</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        &quot;three&quot;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    ],</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    &quot;short_array&quot;: [</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        1,</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        2,</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        3</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    ]</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div></div><!-- fragment --><p>In contrast, here's how the output looks in Configuru:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &quot;float&quot;:       3.14,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;double&quot;:      3.14,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &quot;short_array&quot;: [ 1, 2, 3 ],</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    &quot;long_array&quot;:  [</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        &quot;one&quot;,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        [ &quot;two&quot;, &quot;things&quot; ],</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        &quot;three&quot;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    ]</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --><p>Note how Configuru refrains from unnecessary line breaks on short arrays and does not write superfluous (and ugly!) trailing decimals. Configuru also writes the keys of the objects in the same order as it was given (unless the <code>sort_keys</code> option is explicitly set). The aligned values is just a preference of mine, inspired by <a href="http://kotaku.com/5975610/the-exceptional-beauty-of-doom-3s-source-code">how id software does it</a> (turn off with <code>object_align_values=false</code>). Writing the same data in the CFG format makes it turn out like this: </p><pre class="fragment">float:       3.14
double:      3.14
short_array: [ 1 2 3 ]
long_array:  [
    "one"
    [ "two" "things" ]
    "three"
]
</pre><h1>TODO </h1>
<ul>
<li>Test on another compiler than Clang and GCC. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
